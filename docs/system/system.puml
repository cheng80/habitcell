@startuml HabitCell System Architecture

' ================== ë ˆì´ì•„ì›ƒ ==================
left to right direction
skinparam backgroundColor #FFFFFF
skinparam shadowing false
skinparam roundCorner 20

' ================== ê³µí†µ ìŠ¤íƒ€ì¼ ==================
skinparam arrow {
  Color #7F8C8D
  FontColor #2C3E50
  FontSize 11
}

skinparam defaultTextAlignment center

skinparam rectangle {
  BorderColor #2C3E50
  FontColor #2C3E50
  FontSize 12
}

' ================== APP ==================
rectangle "ðŸ“± APP\n\n**HabitCell**\n\nFlutter\nState Management:\n**Riverpod**" as App #E8F4FD

' ================== LOCAL STORAGE ==================
database "SQLite\n(sqflite)\n\nhabitcell.db\n- categories\n- habits\n- habit_daily_logs\n- heatmap_daily_snapshots" as SQLite #E8F8F5

rectangle "âš™ï¸ GetStorage\n\n- device_uuid\n- theme_mode\n- locale\n- auto_backup\n- last_backup_at\n- wakelock" as Storage #FDEDEC

rectangle "ðŸ”” Notification\n\n- flutter_local_notifications\n- app_badge_plus\n- Pre-reminder\n- Deadline ì•Œë¦¼" as Notif #FFF3E0

' ================== BACKEND ==================
rectangle "â˜ï¸ FastAPI\n\n/v1/backups\n/v1/recovery" as API #E8F5E9

database "MySQL\n\nhabitcell_db\n- devices\n- backups\n- email_verifications" as MySQL #E3F2FD

' ================== ì—°ê²° ==================
App --> SQLite : CRUD\n(HabitDatabaseHandler)
App --> Storage : Preferences\n(AppStorage)
App --> Notif : Schedule/Cancel\n(NotificationService)
App --> API : Backup/Restore\n(BackupService)
API --> MySQL : CRUD

@enduml
